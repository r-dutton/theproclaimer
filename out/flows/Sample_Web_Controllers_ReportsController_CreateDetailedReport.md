[web] POST /api/reports  (Sample.Web.Controllers.ReportsController.CreateDetailedReport)  [L56–L76]
  └─ maps_to CreateDetailedReportCommand (var command) [L70]
    └─ converts_to Report [L15]
    └─ handled_by Sample.App.Handlers.CreateDetailedReportHandler.Handle [L12–L34]
      └─ calls ReportRepository.CreateDetailedAsync [L29]
        └─ maps_to Report [L33]
          └─ automapper.registration ReportProfile (CreateDetailedReportCommand->Report) [L15]
          └─ converts_to ReportDto [L21]
          └─ converts_to ReportSummaryDto [L24]
        └─ writes_to Report [L42]
          └─ reads_from Reports
          └─ writes_to Reports [L42]
        └─ uses_cache IMemoryCache.Remove [write] [L61]
        └─ uses_cache IMemoryCache.Remove [write] [L44]
      └─ maps_to ReportDto [L32]
      └─ uses_service IReportPublisher (AddScoped) [L17]
      └─ uses_service IReportRepository (AddScoped) [L15]
      └─ publishes ReportPublisher [L30]
      └─ publishes_notification ReportGeneratedNotification [L31]
        └─ handled_by Sample.App.Notifications.ReportGeneratedHandler.Handle [L7–L23]
          └─ calls ReportAuditRepository.RecordAsync [L20]
            └─ maps_to ReportAudit [L24]
              └─ automapper.registration ReportProfile (ReportGeneratedNotification->ReportAudit) [L26]
            └─ writes_to ReportAudit [L27]
              └─ reads_from ReportAudits
              └─ writes_to ReportAudits [L27]
          └─ uses_service IReportAuditRepository (AddScoped) [L9]
  └─ casts_to CreateDetailedReportDto (var specialized) [L59] [as]
    └─ converts_to CreateDetailedReportCommand [L13]
  └─ uses_client ReportsClient [L72]
    └─ calls GetDetails (GET /api/v2/reports/{*}/details, base=https://localhost:6001, config=Downstream:Reports:BaseUrl, target=ReportsApi) [L30]
    └─ calls MapGet (GET /api/reports/{*}, base=https://localhost:6001, config=Downstream:Reports:BaseUrl, target=ReportsApi) [L17]
    └─ calls MapPost (POST /api/reports/search, base=https://localhost:6001, config=Downstream:Reports:BaseUrl, target=ReportsApi) [L22]
  └─ uses_validator ReportDtoValidator (ReportDto) [L74]

